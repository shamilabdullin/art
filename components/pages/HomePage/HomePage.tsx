import Head from 'next/head'
import Image from 'next/image'
import styles from '@/styles/Home.module.sass'
import Link from 'next/link'
import { useEffect, useState } from 'react'
import { Collage } from '@/components/Collage'
import { FormControl, InputLabel, MenuItem, Select } from '@mui/material'
import { PaintingModel } from '@/types/Paintings'

const painting: PaintingModel = {
	id: 0,
	title: '',
	image_id: 0,
	artist_title: '',
	category_titles: [''],
	classification_title: '',
	date_end: 0,
	date_start: 0,
	department_title: '',
	dimensions: '',
	exhibition_history: '',
	place_of_origin: '',
	provenance_text: '',
	publication_history: ''
}

export default function HomePage() {  // { paintings }: any

	const [paintings1, setPaintings] = useState([painting]);  //paintings.data
	const [page, setPage] = useState('1')

	useEffect(() => {
		fetch(`https://api.artic.edu/api/v1/artworks?page=${page}`)
			.then(response => response.json())
			.then(response => setPaintings(response.data))
			
	}, [page])

	return (
		<>
		  <Head>
			<title>Art App</title>
			<meta name="description" content="Generated by create next app" />
			<meta name="viewport" content="width=device-width, initial-scale=1" />
			<link rel="icon" href="/favicon.ico" />
		  </Head>
		  <main className={styles.home_page}>
			<div className={styles.container}>
				<div className={styles.title}>
					<h1 className={styles.title1}>Here you can see real Art</h1>
					<h2 className={styles.title2}>We use artworks from Art Institute of Chicago</h2>
				</div>
				<div>
				<FormControl className={styles.formControl}>
					<InputLabel id="demo-simple-select-label">Page</InputLabel>
					<Select
						labelId="demo-simple-select-label"
						id="demo-simple-select"
						value={page}
						label="Page"
						onChange={e => setPage(e.target.value)}
					>
						<MenuItem value={'1'}>1</MenuItem>
						<MenuItem value={'2'}>2</MenuItem>
						<MenuItem value={'3'}>3</MenuItem>
						<MenuItem value={'666'}>666</MenuItem>
					</Select>
					</FormControl>
				</div>
				{paintings1 ? <Collage paintings={paintings1} /> : <></>}
			</div>
		  </main>
		</>
	)
}

// export async function getStaticProps() {
// 	const response = await fetch('https://api.artic.edu/api/v1/artworks?page=2')
// 	const paintings = await response.json()

// 	if (!paintings) {
// 		return {
// 			notFound: true
// 		}
// 	}

// 	return {
// 		props: {
// 			paintings
// 		},
// 	}
// }